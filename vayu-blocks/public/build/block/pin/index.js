(()=>{"use strict";var e,t={2041:(e,t,o)=>{const n=window.wp.blocks,r=window.wp.i18n,i=window.wp.blockEditor,s=window.wp.element,l=window.wp.data;let a=0;const c=window.wp.components,u=window.ReactJSXRuntime,d=["vayu-blocks/advance-heading"],p=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"vayu-blocks/pin","version":"0.2.0","title":"Pin","parent":["vayu-blocks/image-hotspot","vayu-blocks/image"],"category":"vayu-blocks","description":"This is a image pin","supports":{"reusable":true,"html":false,"align":["wide","full"],"layout":false,"multiple":true},"textdomain":"vayu-blocks","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScriptModule":"file:./view.js","attributes":{"id":{"type":"string"},"uniqueID":{"type":"string"},"x":{"type":"number","default":50},"y":{"type":"number","default":50},"tooltipDisplay":{"type":"string","default":"onHover"},"animation":{"type":"string","default":"none"},"triangleArrowColor":{"type":"string"}}}'),v=window.React;var b=o.n(v),y={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},f=b().createContext&&b().createContext(y),k=function(){return k=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},k.apply(this,arguments)},g=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o};function m(e){return e&&e.map((function(e,t){return b().createElement(e.tag,k({key:t},e.attr),m(e.child))}))}function h(e){return function(t){return b().createElement(w,k({attr:k({},e.attr)},t),m(e.child))}}function w(e){var t=function(t){var o,n=e.attr,r=e.size,i=e.title,s=g(e,["attr","size","title"]),l=r||t.size||"1em";return t.className&&(o=t.className),e.className&&(o=(o?o+" ":"")+e.className),b().createElement("svg",k({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,s,{className:o,style:k(k({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&b().createElement("title",null,i),e.children)};return void 0!==f?b().createElement(f.Consumer,null,(function(e){return t(e)})):t(y)}function x(e){return h({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 56c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m0-48C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 168c-44.183 0-80 35.817-80 80s35.817 80 80 80 80-35.817 80-80-35.817-80-80-80z"}}]})(e)}(0,n.registerBlockType)(p.name,{...p,icon:(0,u.jsx)(x,{style:{color:"#6c1bc3"}}),edit:function({attributes:e,setAttributes:t,clientId:o,uniqueID:n}){const{id:p}=e,{addUniqueID:v}=(0,l.useDispatch)("vayu-blocks/data"),{isUniqueID:b,isUniqueBlock:y}=(0,l.useSelect)((e=>({isUniqueID:t=>e("vayu-blocks/data").isUniqueID(t),isUniqueBlock:(t,o)=>e("vayu-blocks/data").isUniqueBlock(t,o)})),[o]);(0,s.useEffect)((()=>{const r=function(e,t,o,n){let r="_"+t.substr(2,9);return e?o(e)||n(e,t)?e:r:(o(r)||(r=function(e){return a+=1,`${e}${a}`}(r)),r)}(n,o,b,y);r!==n?(e.uniqueID=r,t({uniqueID:r}),v(r,o)):v(r,o)}),[]),p||t({id:o});const{x:f=50,y:k=50,tooltipDisplay:g="onHover"}=e,[m,h]=(0,s.useState)(!1),w=(0,l.useSelect)((e=>{const{getBlockParents:t,getBlock:n}=e("core/block-editor"),r=t(o);if(r.length>0){const e=r.map((e=>n(e))).find((e=>"vayu-blocks/image"===e.name));return e?.clientId||null}return null}),[o]);(0,s.useEffect)((()=>{w&&t({parentBlock:w})}),[w]);const{insertBlock:x}=(0,l.useDispatch)("core/block-editor"),_=()=>{if(w){const e=wp.blocks.createBlock("vayu-blocks/pin",{x:50,y:50});x(e,void 0,w)}else console.error((0,r.__)("No parent Image block found to insert the pin.","vayu-blocks"))},O=()=>{wp.data.dispatch("core/block-editor").removeBlock(o)},B=(0,l.useSelect)((e=>{const{getBlock:t}=e("core/block-editor"),n=(t(o)?.innerBlocks||[]).find((e=>"vayu-blocks/advance-container"===e.name));return n?.attributes||{}}),[o]),C=B?.backgroundColor||"#444942";t({triangleArrowColor:C});const j=(0,s.useRef)();(0,s.useEffect)((()=>{if(j.current){const e=e=>{let t=e.querySelector(".triangle-arrow");t||(t=document.createElement("div"),t.className="triangle-arrow",e.querySelector("div.th-has-child").appendChild(t)),e.getBoundingClientRect(),t.style.cssText=`\n                    position: relative;\n                    width: 0;\n                    height: 0;\n                    border-left: 10px solid transparent;\n                    border-right: 10px solid transparent;\n                    border-top: 10px solid ${C};\n                `};j.current.querySelectorAll(".th-root-block-container").forEach((t=>e(t)));const t=new MutationObserver((t=>{t.forEach((t=>{"childList"===t.type&&t.addedNodes.length>0&&t.addedNodes.forEach((t=>{t.classList?.contains("th-root-block-container")&&e(t)}))}))}));return t.observe(j.current,{childList:!0,subtree:!0}),()=>{t.disconnect()}}console.warn("Block reference not found")}),[j,C]);const[E,S]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=document.querySelector(".vayu_blcoks_icon_main_blocks_icon"),t=e=>{if(e.stopPropagation(),e.target.closest(".vayu_blocks_icon_block_main_icon_svg svg")){const t=e.target.closest(".vayu_blocks_icon_block_main_icon_svg svg").closest(".vayu-pin-spot-wrapper7");t&&t.classList.toggle("is-tooltip-visible")}};return e&&e.addEventListener("click",t),()=>{e&&e.removeEventListener("click",t)}}),[]);const N=(0,i.useBlockProps)({ref:j,id:e.id,className:"vayu-pin-block",style:{position:"absolute",top:`${k}%`,left:`${f}%`,transform:"translate(-50%, -50%)",cursor:m?"grabbing":"grab",zIndex:108},onMouseDown:e=>(e=>{h(!0);const o=e=>{const o=e.target.closest(".vayu_blocks_overlay_main_wrapper_image");if(!o)return;const n=o.getBoundingClientRect(),r=(e.clientX-n.left)/n.width*100,i=(e.clientY-n.top)/n.height*100;t({x:r,y:i})},n=()=>{h(!1),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",n)})()});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(i.BlockControls,{children:[(0,u.jsx)(c.ToolbarButton,{icon:"plus",label:(0,r.__)("Add Pin","vayu-blocks"),onClick:_}),(0,u.jsx)(c.ToolbarButton,{icon:"trash",label:(0,r.__)("Remove This Pin","vayu-blocks"),onClick:O,isDestructive:!0})]}),(0,u.jsx)(i.InspectorControls,{children:(0,u.jsxs)(c.PanelBody,{title:(0,r.__)("Pin Settings","vayu-blocks"),children:[(0,u.jsx)(c.Button,{className:"add-pin",isSecondary:!0,onClick:_,children:(0,r.__)("Add Pin","vayu-blocks")}),(0,u.jsx)(c.Button,{className:"delete-pin",isDestructive:!0,isSecondary:!0,onClick:O,children:(0,r.__)("Remove This Pin","vayu-blocks")}),(0,u.jsx)(c.SelectControl,{label:(0,r.__)("Tooltip Display","vayu-blocks"),value:g,options:[{label:(0,r.__)("On Hover","vayu-blocks"),value:"onHover"},{label:(0,r.__)("On Click","vayu-blocks"),value:"onClick"},{label:(0,r.__)("Always Visible","vayu-blocks"),value:"alwaysVisible"}],onChange:e=>t({tooltipDisplay:e})})]})}),(0,u.jsx)("div",{...N,children:(0,u.jsx)("div",{className:`vayu-pin-spot-wrapper7 tooltip-${g}`,style:{position:"relative"},onMouseEnter:()=>{"onHover"===g&&S(!0)},onMouseLeave:()=>{"onHover"===g&&S(!1)},children:(0,u.jsx)(i.InnerBlocks,{allowedBlocks:d,template:[["vayu-blocks/advance-container",{borderRadius:5,paddingType:"unlinked",paddingTop:5,paddingRight:18,paddingBottom:5,paddingLeft:18,paddingUnit:"px",backgroundColor:"#444942",borderRadius:5,position:"absolute",horizontalOrientation:"left",horizontalOrientationOffset:5,verticalOrientation:"bottom",verticalOrientationOffsetBottom:56,className:"vayu-pin-first-wrap"},[["vayu-blocks/advance-heading",{headingColor:"#FFF",content:(0,r.__)("Tooltip","vayu-blocks"),fontSize:16,tag:"p",paddingType:"unlinked",paddingTop:5,lineHeight:14}]]],["vayu-blocks/icon",{backgroundcolor:"#000",backgroundhoverColor:"#000",color:"#FFF",hoverColor:"#FFF",iconName:"wordpress-plusCircle",fontSize:18,iconRadius:{top:"100px",bottom:"100px",left:"100px",right:"100px"},iconhvrRadius:{top:"100px",bottom:"100px",left:"100px",right:"100px"},iconpadding:{top:"5px",bottom:"5px",left:"5px",right:"5px"},className:"vayu-pin-second-wrap"}]],renderAppender:()=>null})})})]})},save:({attributes:e})=>{const t=i.useBlockProps.save(),o=i.useInnerBlocksProps.save(t);return(0,u.jsx)("div",{...o})}})}},o={};function n(e){var r=o[e];if(void 0!==r)return r.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,o,r,i)=>{if(!o){var s=1/0;for(u=0;u<e.length;u++){o=e[u][0],r=e[u][1],i=e[u][2];for(var l=!0,a=0;a<o.length;a++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](o[a])))?o.splice(a--,1):(l=!1,i<s&&(s=i));if(l){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,r,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={1275:0,4771:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,i,s=o[0],l=o[1],a=o[2],c=0;if(s.some((t=>0!==e[t]))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(a)var u=a(n)}for(t&&t(o);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},o=self.webpackChunkvayu_blocks=self.webpackChunkvayu_blocks||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var r=n.O(void 0,[4771],(()=>n(2041)));r=n.O(r)})();