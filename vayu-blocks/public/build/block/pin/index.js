(()=>{"use strict";var t,e={4719:()=>{const t=window.wp.blocks,e=window.wp.i18n,o=window.wp.blockEditor,r=window.wp.element,n=window.wp.data,i=window.wp.components,l=window.ReactJSXRuntime,s=["vayu-blocks/advance-container","vayu-blocks/advance-heading"],a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"vayu-blocks/pin","version":"0.2.0","title":"Pin","parent":["vayu-blocks/image-hotspot","vayu-blocks/image"],"category":"vayu-blocks","description":"The Pin block supports drag-and-drop, allowing users to easily select, drag, and place pins onto a image.","supports":{"reusable":true,"html":false,"align":["wide","full"],"layout":false,"multiple":true},"textdomain":"vayu-blocks","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScriptModule":"file:./view.js","attributes":{"id":{"type":"string"},"uniqueId":{"type":"string"},"x":{"type":"number","default":50},"y":{"type":"number","default":50},"tooltipDisplay":{"type":"string","default":"onHover"},"animation":{"type":"string","default":"none"},"triangleArrowColor":{"type":"string"}}}'),c=window.React;var p={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},u=c.createContext&&c.createContext(p),b=["attr","size","title"];function d(){return d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},d.apply(this,arguments)}function v(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?v(Object(o),!0).forEach((function(e){var r,n,i,l;r=t,n=e,i=o[e],(n="symbol"==typeof(l=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n))?l:l+"")in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function g(t){return t&&t.map(((t,e)=>c.createElement(t.tag,f({key:e},t.attr),g(t.child))))}function m(t){return e=>c.createElement(y,d({attr:f({},t.attr)},e),g(t.child))}function y(t){var e=e=>{var o,{attr:r,size:n,title:i}=t,l=function(t,e){if(null==t)return{};var o,r,n=function(t,e){if(null==t)return{};var o={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;o[r]=t[r]}return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],e.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}(t,b),s=n||e.size||"1em";return e.className&&(o=e.className),t.className&&(o=(o?o+" ":"")+t.className),c.createElement("svg",d({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,r,l,{className:o,style:f(f({color:t.color||e.color},e.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),i&&c.createElement("title",null,i),t.children)};return void 0!==u?c.createElement(u.Consumer,null,(t=>e(t))):e(p)}function x(t){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 56c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m0-48C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 168c-44.183 0-80 35.817-80 80s35.817 80 80 80 80-35.817 80-80-35.817-80-80-80z"},child:[]}]})(t)}(0,t.registerBlockType)(a.name,{...a,icon:(0,l.jsx)(x,{style:{color:"#6c1bc3"}}),edit:function({attributes:t,setAttributes:a,clientId:c,uniqueId:p}){const{id:u}=t;t.uniqueId||a({uniqueId:c}),u||a({id:c});const{x:b=50,y:d=50,tooltipDisplay:v="onHover"}=t,[f,g]=(0,r.useState)(!1),m=(0,n.useSelect)((t=>{const{getBlockParents:e,getBlock:o}=t("core/block-editor"),r=e(c);if(r.length>0){const t=r.map((t=>o(t))).find((t=>"vayu-blocks/image"===t.name));return t?.clientId||null}return null}),[c]);(0,r.useEffect)((()=>{m&&a({parentBlock:m})}),[m]);const{insertBlock:y}=(0,n.useDispatch)("core/block-editor"),x=()=>{if(m){const t=wp.blocks.createBlock("vayu-blocks/pin",{x:50,y:50});y(t,void 0,m)}else console.error((0,e.__)("No parent Image block found to insert the pin.","vayu-blocks"))},h=()=>{wp.data.dispatch("core/block-editor").removeBlock(c)},k=(0,n.useSelect)((t=>{const{getBlock:e}=t("core/block-editor"),o=(e(c)?.innerBlocks||[]).find((t=>"vayu-blocks/advance-container"===t.name));return o?.attributes||{}}),[c]),w=k?.advBackground?.color||"#444942";(0,r.useEffect)((()=>{w&&w!==t.triangleArrowColor&&a({triangleArrowColor:w})}),[w]);const O=(0,r.useRef)(),[j,_]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const t=document.querySelector(".vayu_blcoks_icon_main_blocks_icon"),e=t=>{if(t.stopPropagation(),t.target.closest(".vayu_blocks_icon_block_main_icon_svg svg")){const e=t.target.closest(".vayu_blocks_icon_block_main_icon_svg svg").closest(".vayu-pin-spot-wrapper7");e&&e.classList.toggle("is-tooltip-visible")}};return t&&t.addEventListener("click",e),()=>{t&&t.removeEventListener("click",e)}}),[]);const P=(0,o.useBlockProps)({ref:O,id:t.uniqueId,className:"vayu-pin-block",style:{position:"absolute",top:`${d}%`,left:`${b}%`,transform:"none",cursor:"move",zIndex:108},onMouseDown:t=>(()=>{g(!0);const t=t=>{const e=t.target.closest(".vb-image-wrapper");if(!e)return;const o=e.getBoundingClientRect(),r=(t.clientX-o.left)/o.width*100,n=(t.clientY-o.top)/o.height*100;a({x:r,y:n})},e=()=>{g(!1),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",e)})()});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o.BlockControls,{children:[(0,l.jsx)(i.ToolbarButton,{icon:"plus",label:(0,e.__)("Add Pin","vayu-blocks"),onClick:x}),(0,l.jsx)(i.ToolbarButton,{icon:"trash",label:(0,e.__)("Remove This Pin","vayu-blocks"),onClick:h,isDestructive:!0})]}),(0,l.jsx)(o.InspectorControls,{children:(0,l.jsxs)(i.PanelBody,{title:(0,e.__)("Pin Settings","vayu-blocks"),children:[(0,l.jsx)(i.Button,{className:"add-pin",isSecondary:!0,onClick:x,children:(0,e.__)("Add Pin","vayu-blocks")}),(0,l.jsx)(i.Button,{className:"delete-pin",isDestructive:!0,isSecondary:!0,onClick:h,children:(0,e.__)("Remove This Pin","vayu-blocks")}),(0,l.jsx)(i.SelectControl,{label:(0,e.__)("Tooltip Display","vayu-blocks"),value:v,options:[{label:(0,e.__)("On Hover","vayu-blocks"),value:"onHover"},{label:(0,e.__)("On Click","vayu-blocks"),value:"onClick"},{label:(0,e.__)("Always Visible","vayu-blocks"),value:"alwaysVisible"}],onChange:t=>a({tooltipDisplay:t})})]})}),(0,l.jsx)("div",{...P,children:(0,l.jsx)("div",{className:`vayu-pin-spot-wrapper7 tooltip-${v}`,style:{position:"relative"},onMouseEnter:()=>{"onHover"===v&&_(!0)},onMouseLeave:()=>{"onHover"===v&&_(!1)},children:(0,l.jsx)(o.InnerBlocks,{allowedBlocks:s,template:[["vayu-blocks/advance-container",{contentWidthType:"fullwidth",advBackground:{type:"color",color:"#444942",image:{url:""},gradient:"linear-gradient(135deg,#0F2027 0%, #203A43 0%, #2C5364 100%)"},advPadding:{Desktop:{top:"5px",right:"12px",bottom:"5px",left:"12px"},Tablet:{top:"5px",right:"12px",bottom:"5px",left:"12px"},Mobile:{top:"5px",right:"12px",bottom:"5px",left:"12px"}},advBorderRadius:{Desktop:{topLeft:"5px",topRight:"5px",bottomLeft:"5px",bottomRight:"5px"},Tablet:{topLeft:"5px",topRight:"5px",bottomLeft:"5px",bottomRight:"5px"},Mobile:{topLeft:"5px",topRight:"5px",bottomLeft:"5px",bottomRight:"5px"}},advPosition:{value:"absolute",horiori:"right",offsetright:{Desktop:"-7px",Tablet:"-7px",Mobile:"-7px"},vertiori:"bottom",offsetbottom:{Desktop:"51px",Tablet:"51px",Mobile:"51px"},zIndex:{Desktop:283582,Tablet:283582,Mobile:283582}},className:"vayu-pin-first-wrap"},[["vayu-blocks/advance-heading",{headingColor:"#FFF",content:(0,e.__)("Tooltip","vayu-blocks"),fontSize:16,tag:"p",advMargin:{Desktop:{top:"0px",right:"0px",bottom:"0px",left:"0px"},Tablet:{top:"0px",right:"0px",bottom:"0px",left:"0px"},Mobile:{top:"0px",right:"0px",bottom:"0px",left:"0px"}},typography:{fonts:{},fontSize:{Desktop:"13px",Tablet:"13px",Mobile:"13px"},appearance:{},lineHeights:{},letterSpacing:{},decoration:{},orientation:{},letterCase:{}}}]]],["vayu-blocks/icon",{backgroundcolor:"#000",backgroundhoverColor:"#000",color:"#FFF",hoverColor:"#FFF",iconName:"wordpress-plusCircle",iconSize:{Desktop:"25px",Tablet:"25px",Mobile:"25px"},iconpadding:{Desktop:{top:"5px",right:"5px",bottom:"5px",left:"5px"},Tablet:{top:"5px",right:"5px",bottom:"5px",left:"5px"},Mobile:{top:"5px",right:"5px",bottom:"5px",left:"5px"}},iconsRadius:{Desktop:{topLeft:"50px",topRight:"50px",bottomLeft:"50px",bottomRight:"50px"},Tablet:{topLeft:"50px",topRight:"50px",bottomLeft:"50px",bottomRight:"50px"},Mobile:{topLeft:"50px",topRight:"50px",bottomLeft:"50px",bottomRight:"50px"}},className:"vayu-pin-second-wrap"}]],templateLock:!1})})})]})},save:({attributes:t})=>{const e=o.useBlockProps.save(),r=o.useInnerBlocksProps.save(e);return(0,l.jsx)("div",{...r})}})}},o={};function r(t){var n=o[t];if(void 0!==n)return n.exports;var i=o[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.m=e,t=[],r.O=(e,o,n,i)=>{if(!o){var l=1/0;for(p=0;p<t.length;p++){for(var[o,n,i]=t[p],s=!0,a=0;a<o.length;a++)(!1&i||l>=i)&&Object.keys(r.O).every((t=>r.O[t](o[a])))?o.splice(a--,1):(s=!1,i<l&&(l=i));if(s){t.splice(p--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var p=t.length;p>0&&t[p-1][2]>i;p--)t[p]=t[p-1];t[p]=[o,n,i]},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={1275:0,4771:0};r.O.j=e=>0===t[e];var e=(e,o)=>{var n,i,[l,s,a]=o,c=0;if(l.some((e=>0!==t[e]))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(a)var p=a(r)}for(e&&e(o);c<l.length;c++)i=l[c],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(p)},o=globalThis.webpackChunkvayu_blocks=globalThis.webpackChunkvayu_blocks||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();var n=r.O(void 0,[4771],(()=>r(4719)));n=r.O(n)})();