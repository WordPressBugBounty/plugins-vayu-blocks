document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".swipe-scroll-wrapper[id^='vayu-blocks-']").forEach((e=>{!function(e){const t=e.closest("[id^='vayu-blocks-']");if(!t)return;const n=t.querySelector(".swipe-carousel"),a=n?.getAttribute("data-nav")||"none";if(!n||!e)return void console.log("Missing elements in:",t.id);let r,s,o=Array.from(n.querySelectorAll(".slide-item"));if(0===o.length)return;"arrow"!==a&&"arrowdots"!==a||(r=t.querySelector(".scroll-button.left"),s=t.querySelector(".scroll-button.right"));let l=t.querySelector(".pagination-container");l||"none"===a||"arrow"===a||(l=document.createElement("div"),l.classList.add("pagination-container"),e.appendChild(l));let i=o[0].offsetWidth+18,d=Math.floor(e.offsetWidth/i)||1,c=0,u=!1,g=0,f=0,h=0,p=.3*i;o.forEach((e=>{e.querySelectorAll("img").forEach((e=>{e.setAttribute("draggable","false"),e.addEventListener("dragstart",(e=>e.preventDefault()))}))}));const v=o.slice(0,d).map((e=>{const t=e.cloneNode(!0);return t.classList.add("clone"),t.querySelectorAll("img").forEach((e=>{e.setAttribute("draggable","false"),e.addEventListener("dragstart",(e=>e.preventDefault()))})),t}));v.forEach((e=>n.appendChild(e))),o=Array.from(n.querySelectorAll(".slide-item")),l&&(l.innerHTML="",o.slice(0,o.length-v.length).forEach(((e,t)=>{const n=document.createElement("span");n.classList.add("pagination-dot"),n.dataset.index=t,l.appendChild(n)})));const m=()=>{const e=c%(o.length-v.length);l&&l.querySelectorAll(".pagination-dot").forEach(((t,n)=>{t.classList.toggle("active",n===e)}))},E=(e,t=!0)=>{c=e,c>=o.length-v.length?(c=0,f=0):c<0&&(c=o.length-v.length-1,f=-c*i),f=-c*i,h=f,n.style.transform=`translateX(${f}px)`,n.style.transition=t?"transform 0.4s ease":"none",m()},L=e=>e.type.includes("mouse")?e.clientX:e.touches[0].clientX,y=e=>{"touchstart"===e.type&&e.preventDefault(),u=!0,g=L(e),h=f,n.style.transition="none",n.classList.add("dragging")},b=e=>{if(!u)return;const t=L(e);f=h+(t-g);const a=-(o.length-d)*i;f>0?f=0+.5*(f-0):f<a&&(f=a+.5*(f-a)),n.style.transform=`translateX(${f}px)`},A=()=>{if(!u)return;u=!1,n.classList.remove("dragging");const e=f- -c*i;let t=c;Math.abs(e)>p&&(t+=e>0?-1:1),E(t)};n.addEventListener("mousedown",y),n.addEventListener("touchstart",y,{passive:!1}),n.addEventListener("mousemove",b),n.addEventListener("touchmove",b,{passive:!1}),n.addEventListener("mouseup",A),n.addEventListener("touchend",A),n.addEventListener("mouseleave",(()=>{u&&A()})),n.addEventListener("click",(e=>{Math.abs(f-h)>10&&(e.preventDefault(),e.stopPropagation())}),!0),r&&r.addEventListener("click",(()=>E(c-1))),s&&s.addEventListener("click",(()=>E(c+1))),l&&l.addEventListener("click",(e=>{e.target.classList.contains("pagination-dot")&&E(parseInt(e.target.dataset.index,10))})),n.style.willChange="transform",n.style.transform="translateX(0px)";window.addEventListener("resize",(()=>{i=o[0]?.offsetWidth+18||0,d=Math.floor(e.offsetWidth/i)||1,p=.3*i,E(c,!1)})),m()}(e)}))}));